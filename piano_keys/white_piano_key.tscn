[gd_scene load_steps=48 format=3 uid="uid://b467t86mnhc06"]

[ext_resource type="Script" path="res://piano_keys/piano_key.gd" id="1"]
[ext_resource type="Script" path="res://piano_keys/piano_key_color.gd" id="2"]
[ext_resource type="Texture2D" uid="uid://diqvhb0vut2x7" path="res://Assets/addons/kenney_particle_pack/trace_01.png" id="3_r5f2i"]
[ext_resource type="Texture2D" uid="uid://tkwstnvrpkl0" path="res://Assets/addons/kenney_particle_pack/trace_02.png" id="4_xwplx"]
[ext_resource type="Texture2D" uid="uid://1tto2e7ib0p1" path="res://Assets/addons/kenney_particle_pack/trace_03.png" id="5_pykf1"]
[ext_resource type="Texture2D" uid="uid://cwnr86vtpo7bu" path="res://Assets/addons/kenney_particle_pack/trace_04.png" id="6_fep2k"]
[ext_resource type="Texture2D" uid="uid://3yrmhrtywdsl" path="res://Assets/addons/kenney_particle_pack/trace_05.png" id="7_qqrvc"]
[ext_resource type="Texture2D" uid="uid://cnk68j1iy3vrc" path="res://Assets/addons/kenney_particle_pack/trace_06.png" id="8_mr4l1"]
[ext_resource type="Texture2D" uid="uid://chu0vmfmwftxw" path="res://Assets/addons/kenney_particle_pack/trace_07.png" id="9_ptdos"]
[ext_resource type="Texture2D" uid="uid://ceijb00uf2c42" path="res://Assets/addons/Explosion Sprite/sprite_1.png" id="10_75ny1"]
[ext_resource type="Texture2D" uid="uid://dhkweumr4qkor" path="res://Assets/addons/Explosion Sprite/sprite_2.png" id="11_e6pyk"]
[ext_resource type="Texture2D" uid="uid://j8pjil6rycwa" path="res://Assets/addons/Explosion Sprite/sprite_11.png" id="12_ocsfn"]
[ext_resource type="Texture2D" uid="uid://bxne41jx5ssx3" path="res://Assets/addons/Explosion Sprite/sprite_12.png" id="13_vyxpa"]
[ext_resource type="Texture2D" uid="uid://cu5x6a31x2ikb" path="res://Assets/addons/Explosion Sprite/sprite_13.png" id="14_ql8yr"]
[ext_resource type="Texture2D" uid="uid://ikeoaywe4epb" path="res://Assets/addons/Explosion Sprite/sprite_14.png" id="15_6b676"]
[ext_resource type="Texture2D" uid="uid://b6jbdu3jikc8g" path="res://Assets/addons/Explosion Sprite/sprite_15.png" id="16_snk3d"]
[ext_resource type="Texture2D" uid="uid://i15hecjf7hra" path="res://Assets/addons/Explosion Sprite/sprite_16.png" id="17_cbuy0"]
[ext_resource type="Texture2D" uid="uid://351bg246xoul" path="res://Assets/addons/Explosion Sprite/sprite_17.png" id="18_iunbw"]
[ext_resource type="Texture2D" uid="uid://c54iyp8ryboh2" path="res://Assets/addons/Explosion Sprite/sprite_18.png" id="19_glbgj"]
[ext_resource type="Texture2D" uid="uid://df6swfgmglr1n" path="res://Assets/addons/Explosion Sprite/sprite_19.png" id="20_2fphc"]
[ext_resource type="Texture2D" uid="uid://cymkdjnb4oppb" path="res://Assets/addons/Explosion Sprite/sprite_20.png" id="21_y44xa"]
[ext_resource type="Texture2D" uid="uid://b7in0x745qth4" path="res://Assets/addons/Explosion Sprite/sprite_3.png" id="22_ci0ly"]
[ext_resource type="Texture2D" uid="uid://dfyx11cpkouvg" path="res://Assets/addons/Explosion Sprite/sprite_21.png" id="23_pocjx"]
[ext_resource type="Texture2D" uid="uid://bpkvx0eba2hxf" path="res://Assets/addons/Explosion Sprite/sprite_22.png" id="24_08dtk"]
[ext_resource type="Texture2D" uid="uid://bh4gyb4e626vb" path="res://Assets/addons/Explosion Sprite/sprite_23.png" id="25_5nfoq"]
[ext_resource type="Texture2D" uid="uid://cuhbu5j3dt0gt" path="res://Assets/addons/Explosion Sprite/sprite_24.png" id="26_jbjb5"]
[ext_resource type="Texture2D" uid="uid://dc5berb8262ye" path="res://Assets/addons/Explosion Sprite/sprite_25.png" id="27_hyw12"]
[ext_resource type="Texture2D" uid="uid://bkhucsmu47wkq" path="res://Assets/addons/Explosion Sprite/sprite_26.png" id="28_5r2dd"]
[ext_resource type="Texture2D" uid="uid://sh17socclfpk" path="res://Assets/addons/Explosion Sprite/sprite_27.png" id="29_sl37k"]
[ext_resource type="Texture2D" uid="uid://c3hjllv4cqr14" path="res://Assets/addons/Explosion Sprite/sprite_28.png" id="30_6d13m"]
[ext_resource type="Texture2D" uid="uid://bgb6hglko1fmn" path="res://Assets/addons/Explosion Sprite/sprite_4.png" id="31_get0f"]
[ext_resource type="Texture2D" uid="uid://dgvbavh4j1h52" path="res://Assets/addons/Explosion Sprite/sprite_5.png" id="32_n7ffn"]
[ext_resource type="Texture2D" uid="uid://cvx8mlec8ettw" path="res://Assets/addons/Explosion Sprite/sprite_6.png" id="33_26trb"]
[ext_resource type="Texture2D" uid="uid://cppjarwmfe737" path="res://Assets/addons/Explosion Sprite/sprite_7.png" id="34_vc0ta"]
[ext_resource type="Texture2D" uid="uid://b0afx1nervwfx" path="res://Assets/addons/Explosion Sprite/sprite_8.png" id="35_gucqm"]
[ext_resource type="Texture2D" uid="uid://dae2w3vot2aqf" path="res://Assets/addons/Explosion Sprite/sprite_9.png" id="36_3kumv"]
[ext_resource type="Texture2D" uid="uid://by1ggohmmiy5x" path="res://Assets/addons/Explosion Sprite/sprite_10.png" id="37_8eq4t"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x4xs6"]
size = Vector2(18, 200)

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6yorj"]
particle_flag_disable_z = true
emission_shape = 1
emission_sphere_radius = 10.0
gravity = Vector3(2.08165e-12, -98, 2.08165e-12)

[sub_resource type="Gradient" id="Gradient_pvdij"]
offsets = PackedFloat32Array(0, 0.143302, 0.283489, 0.535826, 0.716511, 1)
colors = PackedColorArray(0.988235, 0.988235, 0, 1, 0.988235, 0.635294, 0.145098, 1, 0.988235, 0.027451, 0.054902, 1, 0.992157, 0.368627, 0.964706, 1, 0.0196078, 0.752941, 0.980392, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_q8p7k"]
gradient = SubResource("Gradient_pvdij")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_lyif6"]
particle_flag_disable_z = true
gravity = Vector3(2.08165e-12, -98, 2.08165e-12)
color_ramp = SubResource("GradientTexture1D_q8p7k")
turbulence_noise_strength = 14.16
turbulence_noise_scale = 10.14

[sub_resource type="AnimatedTexture" id="AnimatedTexture_ek214"]
frames = 7
frame_0/texture = ExtResource("9_ptdos")
frame_0/duration = 0.15
frame_1/texture = ExtResource("8_mr4l1")
frame_1/duration = 0.15
frame_2/texture = ExtResource("7_qqrvc")
frame_2/duration = 0.15
frame_3/texture = ExtResource("6_fep2k")
frame_3/duration = 0.15
frame_4/texture = ExtResource("5_pykf1")
frame_4/duration = 0.15
frame_5/texture = ExtResource("4_xwplx")
frame_5/duration = 0.15
frame_6/texture = ExtResource("3_r5f2i")
frame_6/duration = 0.15

[sub_resource type="Gradient" id="Gradient_leho8"]
offsets = PackedFloat32Array(0, 0.143302, 0.283489, 0.535826, 0.716511, 1)
colors = PackedColorArray(0.988235, 0.988235, 0, 1, 0.988235, 0.635294, 0.145098, 1, 0.988235, 0.027451, 0.054902, 1, 0.992157, 0.368627, 0.964706, 1, 0.0196078, 0.752941, 0.980392, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_pavny"]
gradient = SubResource("Gradient_leho8")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_lf7uu"]
particle_flag_disable_z = true
initial_velocity_min = 46.0
initial_velocity_max = 46.0
gravity = Vector3(2.08165e-12, -300, 2.08165e-12)
scale_min = 0.3
scale_max = 0.3
color_ramp = SubResource("GradientTexture1D_pavny")
turbulence_noise_strength = 14.16
turbulence_noise_scale = 10.14

[sub_resource type="AnimatedTexture" id="AnimatedTexture_6g75m"]
frames = 28
frame_0/texture = ExtResource("10_75ny1")
frame_0/duration = 0.03
frame_1/texture = ExtResource("11_e6pyk")
frame_1/duration = 0.03
frame_2/texture = ExtResource("22_ci0ly")
frame_2/duration = 0.03
frame_3/texture = ExtResource("31_get0f")
frame_3/duration = 0.03
frame_4/texture = ExtResource("32_n7ffn")
frame_4/duration = 0.03
frame_5/texture = ExtResource("33_26trb")
frame_5/duration = 0.03
frame_6/texture = ExtResource("34_vc0ta")
frame_6/duration = 0.03
frame_7/texture = ExtResource("35_gucqm")
frame_7/duration = 0.03
frame_8/texture = ExtResource("36_3kumv")
frame_8/duration = 0.03
frame_9/texture = ExtResource("37_8eq4t")
frame_9/duration = 0.03
frame_10/texture = ExtResource("12_ocsfn")
frame_10/duration = 0.03
frame_11/texture = ExtResource("13_vyxpa")
frame_11/duration = 0.03
frame_12/texture = ExtResource("14_ql8yr")
frame_12/duration = 0.03
frame_13/texture = ExtResource("15_6b676")
frame_13/duration = 0.03
frame_14/texture = ExtResource("16_snk3d")
frame_14/duration = 0.03
frame_15/texture = ExtResource("17_cbuy0")
frame_15/duration = 0.03
frame_16/texture = ExtResource("18_iunbw")
frame_16/duration = 0.03
frame_17/texture = ExtResource("19_glbgj")
frame_17/duration = 0.03
frame_18/texture = ExtResource("20_2fphc")
frame_18/duration = 0.03
frame_19/texture = ExtResource("21_y44xa")
frame_19/duration = 0.03
frame_20/texture = ExtResource("23_pocjx")
frame_20/duration = 0.03
frame_21/texture = ExtResource("24_08dtk")
frame_21/duration = 0.03
frame_22/texture = ExtResource("25_5nfoq")
frame_22/duration = 0.03
frame_23/texture = ExtResource("26_jbjb5")
frame_23/duration = 0.03
frame_24/texture = ExtResource("27_hyw12")
frame_24/duration = 0.03
frame_25/texture = ExtResource("28_5r2dd")
frame_25/duration = 0.03
frame_26/texture = ExtResource("29_sl37k")
frame_26/duration = 0.03
frame_27/texture = ExtResource("30_6d13m")
frame_27/duration = 0.03

[node name="PianoKey" type="Control"]
layout_mode = 3
anchors_preset = 0
offset_right = 20.0
offset_bottom = 200.0
size_flags_horizontal = 3
script = ExtResource("1")

[node name="Key" type="ColorRect" parent="."]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 1.0
offset_right = -1.0
size_flags_horizontal = 3
script = ExtResource("2")

[node name="ColorTimer" type="Timer" parent="."]
one_shot = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(10, 100)
shape = SubResource("RectangleShape2D_x4xs6")

[node name="KeyParticles1" type="GPUParticles2D" parent="."]
z_index = -1
position = Vector2(40, 2.08165e-12)
emitting = false
amount = 100
process_material = SubResource("ParticleProcessMaterial_6yorj")

[node name="KeyParticles3" type="GPUParticles2D" parent="."]
z_index = -1
position = Vector2(40, -40)
scale = Vector2(0.667, 0.667)
emitting = false
amount = 1
process_material = SubResource("ParticleProcessMaterial_lyif6")
texture = SubResource("AnimatedTexture_ek214")

[node name="KeyParticles4" type="GPUParticles2D" parent="."]
z_index = -1
position = Vector2(40, -40)
scale = Vector2(0.667, 0.667)
emitting = false
amount = 2
process_material = SubResource("ParticleProcessMaterial_lyif6")
texture = SubResource("AnimatedTexture_ek214")

[node name="TextureRect" type="TextureRect" parent="."]
z_index = 2
layout_mode = 0
offset_left = 1.0
offset_right = 19.0
offset_bottom = 200.0

[node name="KeyParticles" type="GPUParticles2D" parent="."]
z_index = -1
position = Vector2(45, 2.08165e-12)
rotation = 1.5708
emitting = false
amount = 10
process_material = SubResource("ParticleProcessMaterial_lf7uu")
texture = SubResource("AnimatedTexture_6g75m")

[connection signal="timeout" from="ColorTimer" to="." method="deactivate"]
